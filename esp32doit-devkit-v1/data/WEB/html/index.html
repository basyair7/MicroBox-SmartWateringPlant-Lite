<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="basyair7">

    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="../css/index.css">

    <script src="/js/sweetalert.min.js"></script>
    <script src="../js/sweetalert.min.js"></script>
    <script src="/js/data_server.js"></script>
    <script src="../js/data_server.js"></script>
    <script src="/js/toggleCheck.js"></script>
    <script src="../js/toggleCheck.js"></script>
    <script src="/js/clock.js"></script>
    <script src="../js/clock.js"></script>

    <title>MicroBox Smart Watering Plant - v%VERSION_PROJECT%</title>
</head>
<body onload="Clock.run();">
    <main class="container">
        <h2>MicroBox Smart Watering Plant</h2>
        <section class="table-container">
            <div>
                <table>
                    <tbody>
                        <tr>
                            <td>Date Time</td>
                            <td>
                                <span id="date">Loading...</span> <span id="time">Loading..</span>
                            </td>
                        </tr>
                        
                        <tr>
                            <td>Soil Moisture Level</td>
                            <td><span id="server-soillvl">Loading...</span></td>
                        </tr>
    
                        <tr>
                            <td>Watering State</td>
                            <td><span id="server-WateringState">Loading...</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <table>
                    <tbody>
                        <tr>
                            <td>Temperature</td>
                            <td><span id="server-temp">Loading...</span></td>
                        </tr>

                        <tr>
                            <td>Humidity</td>
                            <td><span id="server-hum">Loading...</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section class="table-container">
            <table>
                <tbody>
                    <tr>
                        <td>%VAR1%</td>
                        <td>
                            <label class="switch">
                                <input type="checkbox" onchange="toggleCheck.autoWateringCheckbox(this)" name="%VARID1%" id="%VARID1%" %CHECKED1%>
                                <span class="slider"></span>
                            </label>
                        </td>
                    </tr>

                    <tr>
                        <td>%VAR2%</td>
                        <td>
                            <label class="switch">
                                <input type="checkbox" onchange="toggleCheck.toggleCheckbox(this)" name="%VARID2%" id="%VARID2%" %CHECKED2%>
                                <span class="slider"></span>
                            </label>
                        </td>
                    </tr>

                    <tr>
                        <td>%VAR3%</td>
                        <td>
                            <label class="switch">
                                <input type="checkbox" onchange="toggleCheck.toggleCheckbox(this)" name="%VAR3%" id="%VAR3%" %CHECKED3%>
                                <span class="slider"></span>
                            </label>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <footer>
            <p>
                <b>Powered by : <a href="http://github.com/basyair7" target="_blank" rel="noopener noreferrer">Basyair7</a></b>
            </p>
        </footer>
    </main>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // Update data-server
            DataServer.update(1500);
            // Initialize DataServer class and listen for update
            DataServer.listen();
        });
    </script>
</body>
</html>